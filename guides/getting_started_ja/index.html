<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Getting Started &#183; Arquillian Guides</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="プロジェクトのテストスイートへArquillianを追加し、最初のArquillianテストの書き方を学びます。" name="description" />
    <link href="/blog/atom.xml" rel="alternate" title="Arquillian blog Atom feed" type="application/atom+xml" />
    <link href="/stylesheets/screen.css?1333467362" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">
      //<![CDATA[
        function footergravity() {
          $('#main').css('min-height', $(window).height() - $('footer').outerHeight() - parseInt($('#main').css('margin-top')));
        }
        $(function() {
          prettify();
          footergravity();
          $(window).resize(footergravity);
        });
      //]]>
    </script>
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <script src="/javascripts/jquery-scroll.js"></script>
    <script src="http://apis.google.com/js/plusone.js"></script>
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>
  <body class="guide">
    <header class="navbar navbar-fixed-top" id="banner" role="banner">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/">
            <span class="logo"></span>
            <span class="name">Arquillian</span>
          </a>
          <nav class="nav-collapse" role="navigation">
            <ul class="nav">
              <li>
                <a href="/invasion/">Invasion!</a>
              </li>
              <li>
                <a href="/features/">Features</a>
              </li>
              <li class="active">
                <a href="/guides/">Guides</a>
              </li>
              <li>
                <a href="/blog/">Blog</a>
              </li>
              <li>
                <a href="/community/">Community</a>
              </li>
              <li>
                <a href="/code/">Code</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <script type="text/javascript">
      //<![CDATA[
        function toggleGuidesMenu(e) {
          if (document.getElementById('guides').style.display == 'none') {
            document.getElementById('guides').style.display = 'block';
            $('body').click(function(e) { toggleGuidesMenu(e); });
          } else {
            document.getElementById('guides').style.display = 'none';
            $('body').unbind('click');
          }
          return false;
        }
        
        $(document).ready(function() {
          $('#guides_menu, .guides_menu').click(toggleGuidesMenu);
        });
      //]]>
    </script>
    <div id="main" role="main">
      <div id="content-header">
        <div class="container">
          <div class="headline">
            <h1>
              <a href="/guides/">Arquillian Guides</a>
              <small>Designed exclusively to teach you how to use Arquillian to write real tests.</small>
            </h1>
            <div class="directory">
              <a class="guides_menu" href="./" id="guides_menu">
                Guides Index
                <span class="arrow">&rsaquo;</span>
              </a>
              <div id="guides" style="display: none">
                <a class="guides_menu" href="./">
                  Guides Index
                  <span class="arrow">&rsaquo;</span>
                </a>
                <hr class="clear" />
                <dl class="beg">
                  <dt>First Steps</dt>
                  <dd><a href="/guides/getting_started/">Getting Started</a>
                  <a href="/guides/getting_started/"><img class="flag" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/getting_started_de/"><img class="flag" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/getting_started_fr/"><img class="flag" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/getting_started_ja/"><img class="flag" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/getting_started_pl/"><img class="flag" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/getting_started_pt/"><img class="flag" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/getting_started_sv_se/"><img class="flag" src="/images/flags/sv_se.png" title="Svenska (sv_se)" /></a>
                  <a href="/guides/getting_started_zh_cn/"><img class="flag" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/getting_started_rinse_and_repeat/">Getting Started: Rinse and Repeat</a>
                  <a href="/guides/getting_started_rinse_and_repeat/"><img class="flag" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_ja/"><img class="flag" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_zh_cn/"><img class="flag" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/get_started_faster_with_forge/">Get Started Faster with Forge</a>
                  <a href="/guides/get_started_faster_with_forge/"><img class="flag" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/get_started_faster_with_forge_ja/"><img class="flag" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/get_started_faster_with_forge_zh_cn/"><img class="flag" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/shrinkwrap_introduction/">Creating Deployable Archives with ShrinkWrap</a>
                  <a href="/guides/shrinkwrap_introduction/"><img class="flag" src="/images/flags/en.png" title="English (en)" /></a></dd>
                </dl>
                <dl class="int">
                  <dt>More Coverage</dt>
                  <dd><a href="/guides/testing_java_persistence/">Testing Java Persistence</a>
                  <a href="/guides/testing_java_persistence/"><img class="flag" src="/images/flags/en.png" title="English (en)" /></a></dd>
                  <dd><a href="/guides/functional_testing_using_drone/">Functional Testing using Drone</a>
                  <a href="/guides/functional_testing_using_drone/"><img class="flag" src="/images/flags/en.png" title="English (en)" /></a></dd>
                </dl>
                <dl class="adv">
                  <dt>Enhance</dt>
                  <dd><a href="/guides/testing_in_the_cloud/">Testing in the Cloud</a>
                  <a href="/guides/testing_in_the_cloud/"><img class="flag" src="/images/flags/en.png" title="English (en)" /></a></dd>
                </dl>
                <dl class="ref">
                  <dt>Reference</dt>
                  <dd><a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Manual</a></dd>
                  <dd><a href="http://docs.jboss.org/arquillian/api/latest">API Docs</a>,
                  <a href="http://docs.jboss.org/arquillian/spi/latest">SPI Docs</a></dd>
                  <dd><a href="http://community.jboss.org/en/arquillian/faq">FAQs</a></dd>
                  <dd><a href="http://community.jboss.org/wiki/ArquillianMigrationGuides">Migration Guides</a></dd>
                </dl>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="container" id="guide">
        <div id="content" lang="ja">
            <div class="header">
            <h2>Getting Started</h2>
            <div class="authors"><strong>Author:</strong>
           Dan Allen
          <strong style="padding-left: 10px;">Translator:</strong>
           Takayuki Konishi
          <strong style="padding-left: 10px;">Language:</strong>
          <img class="flag" src="/images/flags/ja.png" title="日本 (ja)" />
          <br />
          <strong>Level:</strong>
           First Steps
          <strong style="padding-left: 10px;">Tags:</strong>
           cdi, weld, maven, forge, eclipse
          <strong style="padding-left: 10px;">Last Update:</strong> Mar 29, 2012</div>
            <p>このガイドではArquillianを紹介します。このガイドを読むと、以下のことができるようになります：</p>
            <ul>
          	<li>MavenベースのJavaプロジェクトに、Arquillianインフラストラクチャを追加する</li>
          	<li><acronym title="Contexts and Dependency Injection">CDI</acronym> beanの振る舞いを検証するArquillianのテストケースを書く</li>
          	<li>複数の互換性のあるコンテナでArquillianのテストケースを実行する</li>
          </ul>
            <p>これらのスキルを、ArquillianをJava EEアプリケーションのテストスイートとMavenのビルドに組み込むことで学びます。このガイドは、読者がさっと始められるように、 <em>速く読めるよう</em> デザインされています！</p>
            </div>
            <h3 id="&#21069;&#25552;">前提</h3>
          <p>Arquillianを始める最も簡単なやり方は、依存性の管理をしているプロジェクトのテストスイートに組み込むことです。今日、このカテゴリで最も広く利用されているビルドツールは、 <a href="http://maven.apache.org">Apache Maven</a> です。このガイドでは、サンプルのMavenプロジェクトを使って、最初の <strong class="greenbar">グリーンバー</strong> へ案内します。</p>
          <p class="info"><span>ArquillianはMavenには、もっと言えばどんな特定のビルドツールにも依存しません。それはAntやGradleでビルドするプロジェクトで使っても&#8212;より優れているとは言わないまでも&#8212;同じように機能します。理想的には、ビルドツールは、 <a href="http://search.maven.org">Maven Central repository</a> で配布されているArquillianライブラリをプロジェクトに追加するタスクを単純化できる、依存性管理を提供している物がいいでしょう。</span></p>
          <p>このガイドは、読者がコマンドシェルとIDE(Integrated Development Environment:統合開発環境)からMavenを利用できると仮定しています。もしそうでなければ、 <a href="http://maven.apache.org/download.html">Mavenをインストールしてください</a> 。 また、 <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk-6u29-download-513648.html"><acronym title="Java Development Kit">JDK</acronym> 1.6</a> 以降のインストールが必要です。</p>
          <h3 id="&#26032;&#12375;&#12356;&#12503;&#12525;&#12472;&#12455;&#12463;&#12488;&#12434;&#20316;&#25104;&#12377;&#12427;">新しいプロジェクトを作成する</h3>
          <p>新しいプロジェクトを作成する際に、お勧めの方法が2つあります：</p>
          <ol>
          	<li><a href="#generate_project_from_archetype">Maven archetypeからプロジェクトを生成する</a></li>
          	<li><a href="#create_project_using_forge">JBoss Forgeでプロジェクトを作成、カスタマイズする</a></li>
          </ol>
          <p class="info"><span>既存のMavenプロジェクトがあれば、この章を、次章に進む前に正しい依存性の設定になっているかのレビューとして使うことができます。</span></p>
          <p>間違いなく、 <a href="http://jboss.org/forge">JBoss Forge</a> はより簡単なやり方ですが、このガイドではJBoss Forgeをまだ受け入れられないことを考慮して、両方のオプションを示します。上で示した二つのオプションからどちらかを選んで、次の説明に飛んでください。</p>
          <h4 id="generate_project_from_archetype">Maven Archetypeからプロジェクトを生成する</h4>
          <p>まず、以下のコマンドでMavenベースのJavaプロジェクトを生成します。 <em><code>$</code> 以降のテキストをコピーして、コマンドシェルにペーストしてください。</em></p>
          <pre class="command"><code class="command">$ mvn archetype:generate -DarchetypeGroupId=net.avh4.mvn.archetype \&#x000A;-DarchetypeArtifactId=java-1.6-archetype</code></pre>
          <p>プロンプトでは、それぞれ、コロン2つの後に示している値を入力してください。（ <code>&lt;ENTER&gt;</code> で示しているように）各行でエンターキーを押してください。</p>
          <pre class="output"><code class="output">Define value for property 'groupId': : org.arquillian.example &lt;ENTER&gt;&#x000A;Define value for property 'artifactId': : arquillian-tutorial &lt;ENTER&gt;&#x000A;Define value for property 'version': : &lt;ENTER&gt;&#x000A;Define value for property 'package': : &lt;ENTER&gt;&#x000A;Confirm properties configuration:&#x000A;groupId: org.arquillian.example&#x000A;artifactId: arquillian-tutorial&#x000A;version: 1.0-SNAPSHOT&#x000A;package: org.arquillian.example&#x000A;Y: : &lt;ENTER&gt;</code></pre>
          <p>このコマンドは、カレントディレクトリに <code>arquillian-tutorial</code> という新しいフォルダを作り、そこにMavenベースのJavaプロジェクトを生成します。このプロジェクトのファイル構成は、次のようになります：</p>
          <ul class="filetree">
          	<li>src/
          	<ul>
          		<li>main/
          		<ul>
          			<li>java/ &#8211; アプリケーションのすべてのJavaソースファイルをここに置きます。（Javaパッケージの下に置きます）</li>
          			<li>resources/ &#8211; アプリケーションの設定ファイルをここに置きます。</li>
          		</ul></li>
          		<li>test/
          		<ul>
          			<li>java/ &#8211; すべてのテスト用のJavaソースコードをここに置きます。（Javaパッケージの下に置きます）</li>
          			<li>resources/ &#8211; すべてのテスト用の設定ファイルをここに置きます。（例：arquillian.xml）</li>
          		</ul></li>
          	</ul></li>
          	<li>pom.xml &#8211; Mavenのビルドファイルです。Mavenでどのようにプロジェクトをビルドするか定義します。</li>
          </ul>
          <p class="info"><span>このプロジェクトは、Arquillianがそれぞれ最低限要求するバージョンであるJava 6とJUnit 4.8を使用するようにあらかじめ設定されています。</span></p>
          <p>ジェネレータはまた、2つの <code>java</code> フォルダの下に、 <code>org.arquillian.example</code> というJavaパッケージを作成しています。 <code>java</code> フォルダ直下ではなく、このパッケージの下にJavaソースファイルを置いてください。</p>
          <p class="warning"><span>Arquillianはまた、TestNG 5をサポートしています。しかしこのガイドでは、JUnitを使用します。</span></p>
          <p>さて、エディタで <code>pom.xml</code> を開いてください。XMLファイルには、基本的なプロジェクト情報、ビルドセクション、依存セクションが含まれているのが分かります。 <strong>JUnitより下の@<dependency>@要素は不要なので削除してください。</dependency></strong></p>
          <p>編集が終わったら、以下のようになっているはずです（表示上、簡潔にしてあります）：</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;project xmlns="http://maven.apache.org/POM/4.0.0"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xsi:schemaLocation="&#x000A;        http://maven.apache.org/POM/4.0.0&#x000A;        http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;&#x000A;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&#x000A;    &lt;groupId&gt;org.arquillian.example&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;arquillian-tutorial&lt;/artifactId&gt;&#x000A;    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&#x000A;    &lt;packaging&gt;jar&lt;/packaging&gt;&#x000A;    &lt;name&gt;arquillian-tutorial&lt;/name&gt;&#x000A;    &lt;build&gt;&#x000A;        &lt;plugins&gt;&#x000A;            &lt;plugin&gt;&#x000A;                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&#x000A;                &lt;version&gt;2.3.2&lt;/version&gt;&#x000A;                &lt;configuration&gt;&#x000A;                    &lt;source&gt;1.6&lt;/source&gt;&#x000A;                    &lt;target&gt;1.6&lt;/target&gt;&#x000A;                &lt;/configuration&gt;&#x000A;            &lt;/plugin&gt;&#x000A;        &lt;/plugins&gt;&#x000A;    &lt;/build&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;junit&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;junit&lt;/artifactId&gt;&#x000A;            &lt;version&gt;4.8.1&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/project&gt;</code></pre>
          <p>これからJava EE 6コンポーネントを書きます。そのため、Java EE 6 APIをクラスパスに追加する必要があります。そうすれば、これらのコンポーネントをコンパイルできます。</p>
          <p><code>pom.xml</code> ファイルをもう一度開き、そのXMLフラグメントを <code>&lt;dependencies&gt;</code> 要素の下に追加してください。追加後は、以下のようになります：</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependencies&gt;&#x000A;    &lt;dependency&gt;&#x000A;        &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;&#x000A;        &lt;version&gt;1.0.0.Final&lt;/version&gt;&#x000A;        &lt;type&gt;pom&lt;/type&gt;&#x000A;        &lt;scope&gt;provided&lt;/scope&gt;&#x000A;    &lt;/dependency&gt;&#x000A;    &lt;dependency&gt;&#x000A;        &lt;groupId&gt;junit&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;junit&lt;/artifactId&gt;&#x000A;        &lt;version&gt;4.8.1&lt;/version&gt;&#x000A;        &lt;scope&gt;test&lt;/scope&gt;&#x000A;    &lt;/dependency&gt;&#x000A;&lt;/dependencies&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p class="important"><span>Java EE APIアーティファクトを、 <code>javax:javaee-api</code> と組み合わせて <strong>使わない</strong> ことを強くおすすめします。このバンドルは、メソッドの実装を省いたクラスが含まれているので、実行時に（テストの実行時でも）これがクラスパスに残っていた場合、アプリケーションは奇妙なAbsent Codeエラーを投げます。もっと背景を知りたい場合は、 <a href="http://community.jboss.org/wiki/WhatsTheCauseOfThisExceptionJavalangClassFormatErrorAbsentCode">このFAQを読んでください</a> 。</span></p>
          <p>プロジェクトの基本は準備できました！ <a href="#open_project_in_eclipse">プロジェクトをEclipseで開く</a> に進んでください。コードを書きはじめます！</p>
          <h4 id="create_project_using_forge">Forgeでプロジェクトを生成する</h4>
          <p><a href="http://jboss.org/forge">JBoss Forge</a> は、標準ベースの環境で高速アプリケーション開発をするためのコマンドシェルです。別の見方をすれば、ドーピングしたMaven Archetypeのようなものです。</p>
          <p>Forgeのインストールは、比較的短い手順であり、このガイドでは、基礎を体験します。以下の、簡単なステップに従ってインストールしてください：</p>
          <ol>
          	<li><a href="https://repository.jboss.org/nexus/service/local/artifact/maven/redirect?r=releases&amp;g=org.jboss.forge&amp;a=forge-distribution&amp;v=1.0.0.Beta3&amp;e=zip">Forgeをダウンロード</a> し、ディスクに展開します。展開したフォルダを <code>$FORGE_HOME</code> と呼びます。<br />
            ホームディレクトリの <code>forge</code> というフォルダに配布物を展開したと仮定します。</li>
          	<li><code>$FORGE_HOME/bin</code> を（WindowsやLinux、Mac OSXの）パスに追加します。</li>
          </ol>
          <p>Unixベースのオペレーティングシステムでは、Forgeをパスに追加するというのは、一般的には、ユーザの$HOME/.bashrcまたは、$HOME/.profileを編集することになります。以下の環境変数をセットしてください：</p>
          <pre class="command"><code class="command">$ export FORGE_HOME=$HOME/forge/&#x000A;$ export PATH=$PATH:$FORGE_HOME/bin</code></pre>
          <p class="info"><span>Windowsでは、“コントロールパネル”を開き、右クリックして“システムのプロパティ”をクリックします。“詳細設定”タブを開き、“環境変数”をクリックします。そして、これらの二つのエントリを追加します。展開した配布物をすべてのユーザーがアクセスできる場所に置いていない限り、ユーザー変数にForgeを設定することをおすすめします。</span></p>
          <p>これでForgeがインストール（つまり、展開）されたので、コマンドプロンプト（シェル）を開き、 <code>forge</code> コマンドを実行してください：</p>
          <pre class="command"><code class="command">$ forge&#x000A;   _____                    &#x000A;  |  ___|__  _ __ __ _  ___ &#x000A;  | |_ / _ \| `__/ _` |/ _ \  \\&#x000A;  |  _| (_) | | | (_| |  __/  //&#x000A;  |_|  \___/|_|  \__, |\___| &#x000A;                  |___/      </code>&#x000A; &#x000A;<code class="command">[no project] ~ $</code></pre>
          <p>これだけです！Forgeが起動しました。さあ、プロジェクトを作る時です。</p>
          <p>Forgeシェル上で、新しいプロジェクトを生成するために、以下のコマンドを実行してください。これは、上で、Maven Archetypeで作成したプロジェクトとそっくりです：</p>
          <pre class="command"><code class="command">$ new-project --named arquillian-tutorial --topLevelPackage org.arquillian.example</code></pre>
          <p>このコマンドは、 <code>arquillian-tutorial</code> という MavenベースのJavaプロジェクトをカレントディレクトリの新規フォルダの下に生成します。</p>
          <p>Forgeが生成したこのプロジェクトのファイル構成を以下に示します：</p>
          <ul class="filetree">
          	<li>src/
          	<ul>
          		<li>main/
          		<ul>
          			<li>java/ &#8211; アプリケーションのすべてのJavaソースファイルをここに置きます。（Javaパッケージの下に置きます）</li>
          			<li>resources/ &#8211; アプリケーションの設定ファイルをここに置きます。
          			<ul>
          				<li>META-INF/
          				<ul>
          					<li>forge.xml &#8211; 空のForge設定ファイルです。</li>
          				</ul></li>
          			</ul></li>
          		</ul></li>
          		<li>test/
          		<ul>
          			<li>java/ &#8211; すべてのテスト用のJavaソースコードをここに置きます。（Javaパッケージの下に置きます）</li>
          			<li>resources/ &#8211; すべてのテスト用の設定ファイルをここに置きます。（例：arquillian.xml）</li>
          		</ul></li>
          	</ul></li>
          	<li>pom.xml &#8211; Mavenのビルドファイルです。Mavenでどのようにプロジェクトをビルドするか定義します。</li>
          </ul>
          <p>また、ForgeはプロジェクトフォルダをForgeシェルのカレントディレクトリにします。</p>
          <pre class="command"><code class="command">[arquillian-tutorial] arquillian-tutorial $ </code></pre>
          <p>デフォルトでは、Forgeはプロジェクトに、Arquillianが最低限要求するバージョンである、Java 1.6を設定します。便利ですね。</p>
          <p>次に追加する必要があるのは、Java EE APIです。以下の <code>project add-dependency</code> コマンドでできます：</p>
          <pre class="command"><code class="command">$ project add-dependency org.jboss.spec:jboss-javaee-6.0:1.0.0.Final:pom:provided</code></pre>
          <p>また、Arquillianが最低限要求するバージョンである、JUnit 4.8をテストスコープの依存性として追加する必要があります：</p>
          <pre class="command"><code class="command">$ project add-dependency junit:junit:4.8.1:test</code></pre>
          <p>Forgeが生成したpom.xmlを以下に示します：</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&#x000A;&lt;project xmlns="http://maven.apache.org/POM/4.0.0"&#x000A;    xsi:schemaLocation="&#x000A;        http://maven.apache.org/POM/4.0.0&#x000A;        http://maven.apache.org/xsd/maven-4.0.0.xsd"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;&#x000A;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&#x000A;    &lt;groupId&gt;org.arquillian.example&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;arquillian-tutorial&lt;/artifactId&gt;&#x000A;    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.Final&lt;/version&gt;&#x000A;            &lt;type&gt;provided&lt;/type&gt;&#x000A;            &lt;scope&gt;pom&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;junit&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;junit&lt;/artifactId&gt;&#x000A;            &lt;version&gt;4.8.1&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;    &lt;repositories&gt;&#x000A;      &lt;repository&gt;&#x000A;          &lt;id&gt;JBOSS_NEXUS&lt;/id&gt;&#x000A;          &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public&lt;/url&gt;&#x000A;      &lt;/repository&gt;&#x000A;    &lt;/repositories&gt;&#x000A;    &lt;build&gt;&#x000A;        &lt;finalName&gt;arquillian-tutorial&lt;/finalName&gt;&#x000A;        &lt;plugins&gt;&#x000A;            &lt;plugin&gt;&#x000A;                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&#x000A;                &lt;version&gt;2.3.2&lt;/version&gt;&#x000A;                &lt;configuration&gt;&#x000A;                    &lt;source&gt;1.6&lt;/source&gt;&#x000A;                    &lt;target&gt;1.6&lt;/target&gt;&#x000A;                &lt;/configuration&gt;&#x000A;            &lt;/plugin&gt;&#x000A;        &lt;/plugins&gt;&#x000A;    &lt;/build&gt;&#x000A;&lt;/project&gt;</code></pre>
          <p class="info"><span>Arquillianは、Mavenセントラルリポジトリで配布されていて、そのためpom.xmlのJBossパブリックリポジトリの記述は不要で、削除できます。しかしMavenセントラルでは入手できない他のJBossソフトウェアを取得するために必要になるかもしれないことは、覚えておいてください。</span></p>
          <p class="warning"><span>もし、プロジェクトのpom.xmlにリポジトリを明記するのはアンチパターンだと考えるなら、settings.xmlでリポジトリをユーザーグローバルに友好にするために <a href="http://community.jboss.org/wiki/MavenGettingStarted-Users">この説明</a> を読んでください。</span></p>
          <p>プロジェクトの基本は準備できました！Eclipseでプロジェクトを開きましょう。コードを書きはじめます！</p>
          <h3 id="&#12503;&#12525;&#12472;&#12455;&#12463;&#12488;&#12434;eclipse&#12391;&#38283;&#12367;">プロジェクトをEclipseで開く</h3>
          <p>Javaプロジェクトで開発するときは、EclipseのようなIDEを使うでしょう。だから、Arquillianは、IDEフレンドリーに設計されています。つまり、型破りな変更をしなくてもArquillianテストをIDEから実行できます。IDEの利点をすぐに活用しましょう。</p>
          <p>Eclipseの起動から始めます。これはMavenプロジェクトなので、プロジェクトを開くには  <a href="http://eclipse.org/m2e">Maven Integration for Eclipse</a> (m2e)のインストールが必要です。もしまだインストールしていなければ、簡単な方法は、 <a href="http://jboss.org/tools">JBoss Tools</a> をインストールすることです。次のステップに従ってEclipseマーケットプレイス（Eclipseのアプリケーションストアのようなもの）からインストールしてください。</p>
          <ol>
          	<li>メインメニューから、 <code>Help &gt; Eclipse Marketplace...</code> を選択</li>
          	<li>検索フィールドに&quot;jboss tools&quot;と入力し（引用符を除く）、Enterを押す</li>
          	<li>JBoss Tools (Indigo)のインストールボタンをクリック</li>
          	<li>インストールウィザードを完了して、再起動のプロンプトが表示されたら再起動する</li>
          </ol>
          <p>JBoss Tools はJava EEアプリケーション開発の快適な環境を提供します。心配しないで、これはそんなに重いプラグインではありません。</p>
          <p>しかし、余分なJBoss ToolsなしでMavenの統合をしたい場合は、下のステップに従ってください：</p>
          <ol>
          	<li>メインメニューから、 <code>Help &gt; Eclipse Marketplace...</code> を選択</li>
          	<li>検索フィールドに&quot;maven&quot;と入力し（引用符を除く）、Enterを押す</li>
          	<li>Maven Integration for Eclipseのインストールボタンをクリック</li>
          	<li>インストールウィザードを完了して、再起動のプロンプトが表示されたら再起動する</li>
          	<li>Maven Integration for Eclipse WTPについてステップを繰り返す</li>
          </ol>
          <p>Maven Integrationプラグインをインストールしたら、以下のステップでプロジェクトを開きます：</p>
          <ol>
          	<li>メインメニューから、 <code>File &gt; Import...</code> を選択</li>
          	<li>input sourceフィールドで&quot;existing maven&quot;と入力する</li>
          	<li>Existing Maven Projectsオプションを選択し、Nextボタンをクリックする</li>
          	<li>Browse&#8230;ボタンをクリックする</li>
          	<li>ファイルシステムでプロジェクトフォルダへ移動し、OKボタンをクリックする</li>
          	<li>Finishボタンをクリックして、プロジェクトを開く</li>
          </ol>
          <p>EclipseはMavenプロジェクトを認識し、プロジェクトナビゲータビューで開きます。プロジェクトを展開したら、次の画像と同様に見えるでしょう：</p>
          <p><img src="/images/guides/arquillian_tutorial_eclipse_project.png" alt="" /></p>
          <p>これで、ついに本題にたどり着きました！</p>
          <h3 id="&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12434;&#20316;&#12427;">コンポーネントを作る</h3>
          <p>Arquillianテストを書くために、テスト対象のコードが必要です。余計なものがないところでArquillianテストをどのように実行するか学ぶために、ビジネスコンポーネントの作成から始めましょう。だんだん複雑なシナリオに進みます。</p>
          <p>IDEで、新しくJavaの <code>Greeter</code> クラスを <code>org.arquillian.example</code> パッケージに作成してください。内容を以下のように挨拶するロジックで置き換えてください：</p>
          <div class="filename">src/main/java/org/arquillian/example/Greeter.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.io.PrintStream;</code>&#x000A;&#x000A;<code class="prettify">/**&#x000A; * A component for creating personal greetings.&#x000A; */&#x000A;public class Greeter {&#x000A;    public void greet(PrintStream to, String name) {&#x000A;        to.println(createGreeting(name));&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    public String createGreeting(String name) {&#x000A;        return "Hello, " + name + "!";&#x000A;    }&#x000A;}</code></pre>
          <p>このクラスがCDI(Contexts and Dependency Injection) beanとして注入された際に、正しく振る舞うことを検証したいと考えています。もちろん、簡単にユニットテストを書くこともできます。しかしこのbeanは依存性注入やメッセージングのようなエンタープライズサービスを使用していて、コンテナ内で使用されなければならないということにしましょう（加えて、それに成長の機会を与えます <img src="/images/emoticons/wink.png" alt=";)" class="emoticon" /> ）。</p>
          <p>このクラスをCDI beanとして使うために、 <code>@Inject</code> アノテーションでテストに注入します。これはArquillianテストを必要とします！つまり、Arquillian APIをプロジェクトに追加する時です！</p>
          <h3 id="arquillian_api&#12434;&#36861;&#21152;&#12377;&#12427;">Arquillian APIを追加する</h3>
          <p>もう一度、プロジェクト直下にある <code>pom.xml</code> をエディタで開きます。Mavenにどのバージョンのアーティファクトを使うかを示します。Arquillianの推移的な依存性のためのBOM(Bill of Materials)またはバージョンマトリックスをインポートするため、以下のXMLフラグメントを、 <code>&lt;build&gt;</code> 要素の上に追加してください。</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependencyManagement&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-bom&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.CR7&lt;/version&gt;&#x000A;            &lt;scope&gt;import&lt;/scope&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/dependencyManagement&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>次に、Arquillian-JUnitインテグレーションを加えるために、次のXMLフラグメントを最後の <code>&lt;dependency&gt;</code> 要素の下に追加してください：</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependency&gt;&#x000A;    &lt;groupId&gt;org.jboss.arquillian.junit&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;arquillian-junit-container&lt;/artifactId&gt;&#x000A;    &lt;scope&gt;test&lt;/scope&gt;&#x000A;&lt;/dependency&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>Arquillian-JUnitインテグレーションアーティファクトは、また、ShrinkWrap APIをテストクラスパスに追加します。これらの全ライブラリは、JUnit Arquillianテストを書き、コンパイルする際に必要です。</p>
          <p class="info"><span>JUnitの代わりにTestNGを使うためには、Arquillian JUnitインテグレーションをArquillian TestNGインテグレーションで置き換えてください。</span></p>
          <p>ここまでで、pom.xmlになにか問題があれば、 <a href="https://gist.github.com/1263892">このgist</a> からダウンロードできます。</p>
          <p><strong>最初のArquillianテストを書く準備ができました！</strong></p>
          <h3 id="arquillian&#12486;&#12473;&#12488;&#12434;&#26360;&#12367;">Arquillianテストを書く</h3>
          <p>Arquillianテストは、すこし余分なフレアのある、単なるユニットテストのように見えます。IDEに戻りましょう。</p>
          <p class="warning"><span>もし&quot;Project configuration is out of date with pom.xml&quot;というメッセージが表示されたら、プロジェクトを再同期するために右クリックしてProject &gt; Maven &gt; Update Project Configurationを選択してください.</span></p>
          <p>src/test/javaにて、 <code>org.arquillian.example</code> パッケージ以下に <code>GreeterTest</code> という新しいJUnitテストケースを作成することから始めます。力仕事はほとんどArquillianがやるので、よくあるsetupとteardownメソッドは不要です。今のところ、次のようになります：</p>
          <div class="filename">src/test/java/org/arquillian/example/GreeterTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import org.junit.Assert;&#x000A;import org.junit.Test;</code>&#x000A;&#x000A;<code class="prettify">public class GreeterTest {&#x000A;    @Test&#x000A;    public void should_create_greeting() {&#x000A;        Assert.fail("Not yet implemented");&#x000A;    }&#x000A;}</code></pre>
          <p>では、フレアについてです。Arquillianテストケースは、以下の3点が必要です：</p>
          <ol>
          	<li>クラスへの <code>@RunWith(Arquillian.class)</code> アノテーションの付加</li>
          	<li><code>@Deployment</code> でアノテートされ、ShrinkWrapアーカイブを返すスタティックメソッド</li>
          	<li><code>@Test</code> でアノテートされた、少なくとも一つのメソッド</li>
          </ol>
          <p><code>@RunWith</code> アノテーションは、JUnitに、Arquillianをテストコントローラとして使用することを伝えます。Arquillianはテストアーカイブ（つまり、マイクロデプロイメント）を受け取るために <code>@Deployment</code> アノテーションのついたメソッドを探します。そしてマジックが起きて、それぞれの <code>@Test</code> メソッドはコンテナ環境内で実行されます。</p>
          <h4>テストアーカイブとは？</h4>
          <p>テストアーカイブの目的は、テストに必要なクラスとリソースを、クラスパスにあるそれ以外から隔離することです。通常のユニットテストとは異なり、Arquillianは単純にクラスパス上のすべてに手をつけることはしません。その代わり、テストに必要なもの（もしクラスパス上のすべてと決めれば、それかもしれません）だけを含めます。このアーカイブは、 <a href="http://jboss.org/shrinkwrap">ShrinkWrap</a> を使って定義されます。これはアーカイブ（つまり、jar、war、ear）作成用のJava APIです。マイクロデプロイメントストラテジーにより、明確にテストしたいクラスにフォーカスできます。その結果として、テストは無駄のない状態のまま保たれます。</p>
          <p class="info"><span>また、ShrinkWrapはアーティファクト（ライブラリ）の解決をサポートします。プログラム的に設定ファイルを作成し、テストアーカイブに追加します。ShrinkWrapのより詳細な説明は、 <a href="/guides/shrinkwrap_introduction">ShrinkWrap introduction</a> を参照してください。</span></p>
          <p>Arquillianのフレアをテストに加えましょう：</p>
          <div class="filename">src/test/java/org/arquillian/example/GreeterTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import org.jboss.arquillian.container.test.api.Deployment;&#x000A;import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.jboss.shrinkwrap.api.ShrinkWrap;&#x000A;import org.jboss.shrinkwrap.api.asset.EmptyAsset;&#x000A;import org.jboss.shrinkwrap.api.spec.JavaArchive;&#x000A;import org.junit.Assert;&#x000A;import org.junit.Test;&#x000A;import org.junit.runner.RunWith;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class GreeterTest {</code>&#x000A;&#x000A;<code class="prettify">    @Deployment&#x000A;    public static JavaArchive createDeployment() {&#x000A;        return ShrinkWrap.create(JavaArchive.class)&#x000A;            .addClass(Greeter.class)&#x000A;            .addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    @Test&#x000A;    public void should_create_greeting() {&#x000A;        Assert.fail("Not yet implemented");&#x000A;    }&#x000A;}</code></pre>
          <p>ShrinkWrapを使って、Javaアーカイブ（jar）を定義しました。このアーカイブは、テスト対象の <code>Greeter</code> クラスと、META-INFディレクトリ内にこのアーカイブでCDIを有効にするための空のbeans.xmlファイルを含みます。</p>
          <p>ここでやるべきことは、テストメソッドの上で <code>Greeter</code> インスタンスを直接フィールドに注入し、未実装のテストメソッドをそのbeanの振る舞いを検証するものに置き換えることです。読者に和んでもらえるように、コンソールにも挨拶を出力します。</p>
          <div class="filename">src/test/java/org/arquillian/example/GreeterTest.java</div>
          <pre class="prettify"><code class="prettify">// clip&#x000A;@Inject&#x000A;Greeter greeter;</code>&#x000A;&#x000A;<code class="prettify">@Test&#x000A;public void should_create_greeting() {&#x000A;    Assert.assertEquals("Hello, Earthling!",&#x000A;        greeter.createGreeting("Earthling"));&#x000A;    greeter.greet(System.out, "Earthling");&#x000A;}</code></pre>
          <p>編集が終わったらどのようにテストがどうなっているかというと：</p>
          <div class="filename">src/test/java/org/arquillian/example/GreeterTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import javax.inject.Inject;&#x000A;import org.jboss.arquillian.container.test.api.Deployment;&#x000A;import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.jboss.shrinkwrap.api.ShrinkWrap;&#x000A;import org.jboss.shrinkwrap.api.asset.EmptyAsset;&#x000A;import org.jboss.shrinkwrap.api.spec.JavaArchive;&#x000A;import org.junit.Test;&#x000A;import org.junit.Assert;&#x000A;import org.junit.runner.RunWith;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class GreeterTest {</code>&#x000A;&#x000A;<code class="prettify">    @Deployment&#x000A;    public static JavaArchive createDeployment() {&#x000A;        return ShrinkWrap.create(JavaArchive.class)&#x000A;            .addClass(Greeter.class)&#x000A;            .addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    @Inject&#x000A;    Greeter greeter;</code>&#x000A;&#x000A;<code class="prettify">    @Test&#x000A;    public void should_create_greeting() {&#x000A;        Assert.assertEquals("Hello, Earthling!",&#x000A;            greeter.createGreeting("Earthling"));&#x000A;        greeter.greet(System.out, "Earthling");&#x000A;    }&#x000A;}</code></pre>
          <p>最初のArquillianテストが書けました！ああ、でもどのように動かすのか、疑問に思ってるかもしれませんね <img src="/images/emoticons/confused.png" alt=":S" class="emoticon" /> “ユニットテストみたいに”と思っているなら、それは正解です！しかし、クラスパスにコンテナアダプタを追加する必要があります。</p>
          <h3 id="&#12467;&#12531;&#12486;&#12490;&#12450;&#12480;&#12503;&#12479;&#12434;&#36861;&#21152;&#12377;&#12427;">コンテナアダプタを追加する</h3>
          <p>これまで、コンテナでテストすることについて数多く語ってきましたが、今のところどれとは言及しませんでした。それは、実行時に決定することだからです。</p>
          <p>Arquillianは、テストクラスパスで利用可能なコンテナの中からターゲットコンテナを選択します。だから、プロジェクトにもっとライブラリを追加します。</p>
          <p>Arquillianのテストは、テストで使用するプログラミングモデルと互換性があるならば（コンテナ用のArquillianアダプタがあるならば）どんなコンテナでも実行できます。私達のテストは、CDIプログラミングモデルを使用しているので、CDIをサポートするコンテナを使う必要があります。開発中は高速にターンアラウンドしたいので、Weld EEエンベデッドコンテナから始めましょう。</p>
          <p>また <code>pom.xml</code> を開き、他の <code>&lt;dependency&gt;</code> 要素の下に、 以下の依存性のグループを追加してください：</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependency&gt;&#x000A;    &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;arquillian-weld-ee-embedded-1.1&lt;/artifactId&gt;&#x000A;    &lt;version&gt;1.0.0.CR2&lt;/version&gt;&#x000A;    &lt;scope&gt;test&lt;/scope&gt;&#x000A;&lt;/dependency&gt;&#x000A;&lt;dependency&gt;&#x000A;    &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;weld-core&lt;/artifactId&gt;&#x000A;    &lt;version&gt;1.1.5.Final&lt;/version&gt;&#x000A;    &lt;scope&gt;test&lt;/scope&gt;&#x000A;&lt;/dependency&gt;&#x000A;&lt;dependency&gt;&#x000A;    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;&#x000A;    &lt;version&gt;1.6.4&lt;/version&gt;&#x000A;    &lt;scope&gt;test&lt;/scope&gt;&#x000A;&lt;/dependency&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>まとめると、Arquillianを使うには、（JUnitと共に）以下の3つのライブラリが必要です：</p>
          <ol>
          	<li>Arquillian JUnit インテグレーション</li>
          	<li>ターゲットコンテナ向けのArquillianコンテナアダプタ</li>
          	<li>コンテナのランタイム（エンベデッドコンテナ）または、コンテナのクライアント（リモートコンテナ）</li>
          </ol>
          <p>このサンプルでは、エンベデッドコンテナを使っています。それで、コンテナのランタイムであるWeldが必要です。</p>
          <p>さて、テストに戻ります。</p>
          <h3 id="arquillian&#12486;&#12473;&#12488;&#12398;&#23455;&#34892;">Arquillianテストの実行</h3>
          <p>Arquillianに必要なすべてのライブラリをクラスパスに追加したら、ユニットテストのようにArquillianテストを実行できます。IDEから実行することも、ビルドスクリプトやどんなテストプラグインから実行することもできます。Eclipseから実行してみましょう。</p>
          <p>IDEのウィンドウから、Package Explorer（またはエディタ）のGreeterTest.javaを右クリックしてコンテキストメニューからRun As &gt; JUnit Testを選択します。</p>
          <p><img src="/images/guides/arquillian_tutorial_run_junit_test.png" alt="" /></p>
          <p>テストを実行したら、以下の行がコンソールに出力されるでしょう：</p>
          <pre class="output"><code class="output">26 [main] INFO org.jboss.weld.Version - WELD-000900 1.1.1 (Final)&#x000A;Hello, Earthling!</code></pre>
          <p>それから、JUnitビューが表示され、 <strong class="greenbar">グリーンバー</strong> が現れます！</p>
          <p><img src="/images/guides/arquillian_tutorial_junit_green_bar.png" alt="" /></p>
          <p>コマンドラインから、Mavenでテストを実行することもできます：</p>
          <pre class="command"><code class="command">$ mvn test</code></pre>
          <p>以下の行がコンソールに出力されるでしょう：</p>
          <pre class="output"><code class="output">-------------------------------------------------------&#x000A;T E S T S&#x000A;-------------------------------------------------------&#x000A;Running org.arquillian.example.GreeterTest&#x000A;21 [main] INFO org.jboss.weld.Version - WELD-000900 1.1.1 (Final)&#x000A;Hello, Earthling!&#x000A;Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.858 sec</code></pre>
          <p><strong>おめでとう！</strong> Arquillianを使って、最初の <strong class="greenbar">グリーンバー</strong> に到達しました！</p>
          <h3 id="&#35443;&#12375;&#12367;&#35211;&#12427;">詳しく見る</h3>
          <p>CDIが実際にはどのように動作しているかわかりますか？わかっていることは、Arquillianは、 <code>Greeter</code> クラスの新しいインスタンスを作成し、CDIとは無関係にテストに注入することだけです。そこを調べてみましょう。</p>
          <p><code>org.arquillian.example</code> パッケージに <code>PhraseBuilder</code> という新しいCDI beanを作成します。これは、テンプレートからフレーズを生成します。</p>
          <div class="filename">src/main/java/org/arquillian/example/PhraseBuilder.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.text.MessageFormat;&#x000A;import java.util.HashMap;&#x000A;import java.util.Map;&#x000A;import javax.annotation.PostConstruct;</code>&#x000A;&#x000A;<code class="prettify">public class PhraseBuilder {&#x000A;    private Map&lt;String, String&gt; templates;</code>&#x000A;&#x000A;<code class="prettify">    public String buildPhrase(String id, Object... args) {&#x000A;        return MessageFormat.format(templates.get(id), args);&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    @PostConstruct&#x000A;    public void initialize() {&#x000A;        templates = new HashMap&lt;String, String&gt;();&#x000A;        templates.put("hello", "Hello, {0}!");&#x000A;    }&#x000A;}</code></pre>
          <p>次に、 <code>Greeter</code> クラスを開き、コンストラクタインジェクションを使って <code>PhraseBuilder</code> を注入する、新しいコンストラクタを作成します。それから、挨拶を作るタスクを注入されたbeanに移譲します。</p>
          <div class="filename">src/main/java/org/arquillian/example/Greeter.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.io.PrintStream;&#x000A;import javax.inject.Inject;</code>&#x000A;&#x000A;<code class="prettify">public class Greeter {</code>&#x000A;&#x000A;<code class="prettify">    private PhraseBuilder phraseBuilder;</code>&#x000A;&#x000A;<code class="prettify">    @Inject&#x000A;    public Greeter(PhraseBuilder phraseBuilder) {&#x000A;        this.phraseBuilder = phraseBuilder;&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    public void greet(PrintStream to, String name) {&#x000A;        to.println(createGreeting(name));&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    public String createGreeting(String name) {&#x000A;        return phraseBuilder.buildPhrase("hello", name);&#x000A;    }&#x000A;}</code></pre>
          <p>さて、テスト実行のために、 <code>PhraseBuilder</code> のインスタンスが作成され、 その <code>@PostConstruct</code> メソッドが実行され、 <code>Greeter</code> のインスタンスが作成されるときに <code>Greeter</code> のコンストラクタに注入されなければなりません。これらがすべてが起きれば、CDIが動作していることを確認できます。</p>
          <p>最後のステップです。新しいクラスを作ったので、テスト時に <code>@Deployment</code> メソッド が返すアーカイブにそれを加える必要があります。簡単に、以下の行を変更してください：</p>
          <pre class="prettify"><code class="prettify">.addClass(Greeter.class)</code></pre>
          <p>&#8230;次のように：</p>
          <pre class="prettify"><code class="prettify">.addClasses(Greeter.class, PhraseBuilder.class)</code></pre>
          <p>もう一度テストを実行してください。また、 <strong class="greenbar">グリーンバー</strong> が表示されます！気持ちいいでしょう？</p>
          <h3 id="&#12486;&#12473;&#12488;&#12434;&#12487;&#12496;&#12483;&#12464;&#12377;&#12427;">テストをデバッグする</h3>
          <p>これは短い章になるでしょう。なぜか？Arquillianのテストは、とても直接的なので、まさにユニットテストをデバッグするようにデバッグします。テストコードでも、アプリケーションコードでも、どこにでもブレークポイントを追加するだけです。それから、ファイルを右クリックして、Debug As &gt; JUnit Testを選択します。これでコンテナでデバッグができます！楽しく調べ回ってください！</p>
          <p><img src="/images/guides/arquillian_tutorial_debugging_test.png" alt="" /></p>
          <p class="warning"><span>リモートコンテナを使っている場合、Debug As ではブレークポイントが有効になりません。その代わりに、コンテナをデバッグモードで起動して、デバッガをアタッチする必要があります。これは、テストが元々のテストランナーとは異なるJVM上で実行されているためです。</span></p>
          <p>いま経験したように、ArquillianはCDIアプリケーションのテストには理想的なツールです。それはCDI環境のロードを行い、テストに直接、beanを注入します。もっとも良い点は、エンベデッドCDIコンテナを使っていると、ユニットテストのように素早く実行することです。これで要望が満たせたら、このチュートリアルを抜けてテストを書き始めてもかまいません。</p>
          <p><strong>しかし！</strong> エンベデッドコンテナはすべてのストーリーを語ってくれるでしょうか？コンポーネントは、完全なコンテナ上で実行しても動作するでしょうか？</p>
          <p>Arquillianの恩恵の一つは、同じテストを互換性のある異なるコンテナ上で実行できることです。別のエンベデッドコンテナや、スタンドアロンのコンテナであっても。複数のコンテナを使いたいなら、読み進めてください。</p>
          <h3 id="&#12373;&#12425;&#12395;&#12467;&#12531;&#12486;&#12490;&#12434;&#36861;&#21152;&#12377;&#12427;">さらにコンテナを追加する</h3>
          <p>以前に学んだように、Arquillianはクラスパス上のコンテナアダプタを元に、コンテナを選択します。別のコンテナに切り替えるには、クラスパス上のコンテナアダプタをテストの前に変更するだけです。</p>
          <p class="important"><span>テスト実行の時点では、クラスパス上にコンテナアダプタは一つだけ存在できます。</span></p>
          <p>クラスパス上のライブラリを切り替える一つの方法は、毎回手動で <code>pom.xml</code> に依存の定義を編集することです。でもそれは馬鹿馬鹿しい。もっといいやり方があります。</p>
          <p>依存をグループに入れて区別するために、Mavenのプロファイルが使えます。コンテナアダプタと関連するアーティファクト毎に、一つのグループです。テスト実行時に、コマンドラインフラグ（-P）や、IDEのプリファレンスから、コンテナを選択するために一つのグループを有効化します。</p>
          <p><code>pom.xml</code> を開き、以下のXMLを <code>&lt;dependencies&gt;</code> 要素直下に追加して、Weld EEエンベデッド用の新しいプロファイルを作ります：</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;profiles&gt;&#x000A;    &lt;profile&gt;&#x000A;        &lt;id&gt;arquillian-weld-ee-embedded&lt;/id&gt;&#x000A;        &lt;dependencies&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;&#x000A;                &lt;version&gt;1.0.0.Final&lt;/version&gt;&#x000A;                &lt;type&gt;pom&lt;/type&gt;&#x000A;                &lt;scope&gt;provided&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;arquillian-weld-ee-embedded-1.1&lt;/artifactId&gt;&#x000A;                &lt;version&gt;1.0.0.CR2&lt;/version&gt;&#x000A;                &lt;scope&gt;test&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;weld-core&lt;/artifactId&gt;&#x000A;                &lt;version&gt;1.1.5.Final&lt;/version&gt;&#x000A;                &lt;scope&gt;test&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;&#x000A;                &lt;version&gt;1.6.4&lt;/version&gt;&#x000A;                &lt;scope&gt;test&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;        &lt;/dependencies&gt;&#x000A;    &lt;/profile&gt;&#x000A;&lt;/profiles&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>次に、 <code>jboss-javaee-6.0</code> への依存とWeld EEエンベデッドコンテナアダプタへの依存をメインの <code>&lt;dependencies&gt;</code> セクションから <strong>削除します</strong> 。編集後に、 <code>&lt;dependencies&gt;</code> と <code>&lt;profiles&gt;</code> セクションがどうなっているかを以下に示します：</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependencies&gt;&#x000A;    &lt;dependency&gt;&#x000A;        &lt;groupId&gt;junit&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;junit&lt;/artifactId&gt;&#x000A;        &lt;version&gt;4.8.1&lt;/version&gt;&#x000A;        &lt;scope&gt;test&lt;/scope&gt;&#x000A;    &lt;/dependency&gt;&#x000A;    &lt;dependency&gt;&#x000A;        &lt;groupId&gt;org.jboss.arquillian.junit&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;arquillian-junit-container&lt;/artifactId&gt;&#x000A;        &lt;scope&gt;test&lt;/scope&gt;&#x000A;    &lt;/dependency&gt;&#x000A;&lt;/dependencies&gt;&#x000A;&lt;profiles&gt;&#x000A;    &lt;profile&gt;&#x000A;        &lt;id&gt;arquillian-weld-ee-embedded&lt;/id&gt;&#x000A;        &lt;dependencies&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;&#x000A;                &lt;version&gt;1.0.0.Final&lt;/version&gt;&#x000A;                &lt;type&gt;pom&lt;/type&gt;&#x000A;                &lt;scope&gt;provided&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;arquillian-weld-ee-embedded-1.1&lt;/artifactId&gt;&#x000A;                &lt;version&gt;1.0.0.CR2&lt;/version&gt;&#x000A;                &lt;scope&gt;test&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;weld-core&lt;/artifactId&gt;&#x000A;                &lt;version&gt;1.1.5.Final&lt;/version&gt;&#x000A;                &lt;scope&gt;test&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;&#x000A;                &lt;version&gt;1.6.4&lt;/version&gt;&#x000A;                &lt;scope&gt;test&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;        &lt;/dependencies&gt;&#x000A;    &lt;/profile&gt;&#x000A;&lt;/profiles&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p class="info"><span>エンベデッドGlassFishなどいくつかのコンテナは、Java EE APIを提供しているので、これらのライブラリへの依存はプロファイル以下に移動しました。同時に両方が同じクラスパス上にあると、コンフリクトを引き起こします。それで、このクラスパスのダンスをしなければなりません。</span></p>
          <p>ここで2つのプロファイルを <code>pom.xml</code> の <code>&lt;profiles&gt;</code> 要素内に追加します。一つ目は、 <a href="http://embedded-glassfish.java.net">Embedded GlassFish</a> ：</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;profile&gt;&#x000A;    &lt;id&gt;arquillian-glassfish-embedded&lt;/id&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-glassfish-embedded-3.1&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.CR2&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.glassfish.main.extras&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;glassfish-embedded-all&lt;/artifactId&gt;&#x000A;            &lt;version&gt;3.1.2&lt;/version&gt;&#x000A;            &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/profile&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>もう一つは、JBoss AS マネージド：</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;profile&gt;&#x000A;    &lt;id&gt;arquillian-jbossas-managed&lt;/id&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.Final&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-as-arquillian-container-managed&lt;/artifactId&gt;&#x000A;            &lt;version&gt;7.0.2.Final&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/profile&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>これで、このテストは3つのコンテナの中から一つを選んで実行できるようになりました。</p>
          <p>ここまでで、pom.xmlになにか問題があれば、 <a href="https://gist.github.com/1263934">このgist</a> からダウンロードできます。</p>
          <h3 id="&#12467;&#12531;&#12486;&#12490;&#12434;&#36234;&#12360;&#12390;&#12486;&#12473;&#12488;&#12377;&#12427;">コンテナを越えてテストする</h3>
          <p>Eclipseでプロジェクトをリフレッシュしたら、ビルドされないことに気づくでしょう。これは、コンテナプロファイルのどれかを有効にする必要があるからです。前の状態を復元するためにWeld EEエンベデッドプロファイルを有効にしましょう。</p>
          <p>EclipseでMavenプロファイルを有効にするには、2つのやり方があります：</p>
          <ol>
          	<li>手動で設定（標準的なやり方）</li>
          	<li>Maven profile selector (JBoss Tools)</li>
          </ol>
          <h4>有効なMavenプロファイルのセット：手動で設定</h4>
          <p>手動で有効なプロファイルをセットするには、以下のステップに従います：</p>
          <ol>
          	<li>プロジェクトを右クリックして、Propertiesを選択する</li>
          	<li>Maven propertiesを選択する</li>
          	<li>Active Maven Profilesフィールドに、プロファイルIDを入力する（例えば、 <code>arquillian-weld-ee-embedded</code> ）</li>
          	<li>OKボタンをクリックし、プロジェクトの変更を承諾する</li>
          </ol>
          <p>以下が、プロファイルを有効にしたMaven properties画面です：</p>
          <p><img src="/images/guides/arquillian_tutorial_maven_properties.png" alt="" /></p>
          <h4>有効なMavenプロファイルのセット：Maven profile selector</h4>
          <p>JBoss Toolsがインストール済みなら、有効なプロファイルの選択はより簡単です：</p>
          <ol>
          	<li>プロジェクトを右クリックし、 Maven &gt; Select Active Profiles&#8230; を選択する<br />
          （あるいは、 Ctrl+Shift+P のキーバインディングか、ツールバーのボタンも使えます）</li>
          	<li>有効化したいプロファイルの隣のチェックボックスをチェックする（例えば、 <code>arquillian-weld-ee-embedded</code> ）</li>
          	<li>OKボタンをクリックする</li>
          </ol>
          <p>次が、有効化したプロファイルを表示しているMaven profile selectorダイアログです：</p>
          <p><img src="/images/guides/arquillian_tutorial_maven_profile_selector.png" alt="" /></p>
          <p>一度プロファイルを有効化したら、テストはまた成功できるはずです。</p>
          <p>すでにこのテストがWeld EEエンベデッドで成功することはわかっています。上のステップを繰り返してGlassFishエンベデッドに切り替え、今回は <code>arquillian-glassfish-embedded</code> だけを有効にします。テストをまた実行。GlassFishがコンソールで起動するのが見えて…今度も <strong class="greenbar">グリーンバー</strong> です！</p>
          <p>これで、同じテストを異なる二つのエンベデッドコンテナで実行しました。CDIコンテナ（Weld）とJava EEコンテナ（GlassFish）です。どちらも実行はプロセス内です。純粋な環境でコンポーネントが正常に動作するか本当に確認するには、スタンドアロンのコンテナが必要です。JBoss ASを使うよう切り替えましょう。</p>
          <p>スタンドアロンのJBoss ASインスタンスでテストするには、まず初めに次のどちらかのセットアップが必要です：</p>
          <ol>
          	<li>ダウンロードしてプロジェクト外の場所に展開する または、</li>
          	<li>ビルド中にMavenでダウンロード、展開することもできる</li>
          </ol>
          <p>プロジェクト外でJBoss AS 7をセットアップするには、以下の手順に従ってください：</p>
          <ol>
          	<li><a href="http://jboss.org/jbossas/downloads">JBoss AS 7をダウンロードする</a><br />
          （選んだバージョンが、 <code>pom.xml</code> の <code>&lt;artifactId&gt;jboss-as-arquillian-container-managed&lt;/artifactId&gt;</code> で定義しているバージョンとあっていることを確認してください）</li>
          	<li>アーカイブを展開する</li>
          	<li>（オプション）展開したディレクトリのパスを <code>JBOSS_HOME</code> 環境変数にセット</li>
          </ol>
          <p>代わりに、Mavenにこのタスクを実行させるには、以下のXMLフラグメントを、 <code>arq-jbossas-managed</code> プロファイルの <code>&lt;id&gt;</code> 要素の下に追加してください：</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;build&gt;&#x000A;    &lt;plugins&gt;&#x000A;        &lt;plugin&gt;&#x000A;            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;&#x000A;            &lt;executions&gt;&#x000A;                &lt;execution&gt;&#x000A;                    &lt;id&gt;unpack&lt;/id&gt;&#x000A;                    &lt;phase&gt;process-test-classes&lt;/phase&gt;&#x000A;                    &lt;goals&gt;&#x000A;                        &lt;goal&gt;unpack&lt;/goal&gt;&#x000A;                    &lt;/goals&gt;&#x000A;                    &lt;configuration&gt;&#x000A;                        &lt;artifactItems&gt;&#x000A;                            &lt;artifactItem&gt;&#x000A;                                &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;&#x000A;                                &lt;artifactId&gt;jboss-as-dist&lt;/artifactId&gt;&#x000A;                                &lt;version&gt;7.0.2.Final&lt;/version&gt;&#x000A;                                &lt;type&gt;zip&lt;/type&gt;&#x000A;                                &lt;overWrite&gt;false&lt;/overWrite&gt;&#x000A;                                &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;&#x000A;                            &lt;/artifactItem&gt;&#x000A;                        &lt;/artifactItems&gt;&#x000A;                    &lt;/configuration&gt;&#x000A;                &lt;/execution&gt;&#x000A;            &lt;/executions&gt;&#x000A;        &lt;/plugin&gt;&#x000A;    &lt;/plugins&gt;&#x000A;&lt;/build&gt; &#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>JBoss AS 7マネージドインスタンスをターゲットにするには、もう少しArquillianに設定が必要です。以下の設定ファイルを作成し、 <code>jbossHome</code> プロパティの値を、JBoss AS 7がインストールされた場所にします。Maven依存プラグインを使っている場合は、場所は、 <code>target/jboss-as-7.0.2.Final</code> です。</p>
          <div class="filename">src/test/resources/arquillian.xml</div>
          <pre class="prettify"><code class="prettify">&lt;arquillian xmlns="http://jboss.org/schema/arquillian"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xsi:schemaLocation="&#x000A;        http://jboss.org/schema/arquillian&#x000A;        http://jboss.org/schema/arquillian/arquillian_1_0.xsd"&gt;&#x000A;    &lt;container qualifier="jbossas-7-managed" default="true"&gt;&#x000A;        &lt;configuration&gt;&#x000A;            &lt;property name="jbossHome"&gt;target/jboss-as-7.0.2.Final&lt;/property&gt;&#x000A;        &lt;/configuration&gt;&#x000A;    &lt;/container&gt;&#x000A;&lt;/arquillian&gt;</code></pre>
          <p>さて、有効なMavenプロファイルを <code>arquillian-jbossas-managed</code> に変更して、またテストを実行します。コンソールでJBoss ASの起動が見えて…またもや <strong class="greenbar">グリーンバー</strong> です！</p>
          <p class="info"><span>System.outに出力されたメッセージはコンソールではなくサーバーログに出力されます。</span></p>
          <p>これは <em>同じ</em> テストです。今回はスタンドアロンの（エンベデッドでない）Java EEコンテナで実行しました。Arquillianはテストをパッケージ化して、Java EEアーカイブとしてコンテナにデプロイし、リモートでテストを実行し、結果を取得したのち、EclipseのJUnitビュー（またはMavenのsurefire results）に伝えます。このライフサイクルがどのように動作しているか、 <a href="https://docs.jboss.org/author/display/ARQ/Negotiating+test+execution">Arquillian reference guide</a> でより詳細に知ることができます。</p>
          <h3 id="share">Share the Knowledge</h3>
          <p>Find this guide useful?</p>
          <p class="post_to_twitter"><a href="http://twitter.com/home/?status=Just%20read%20the%20%23Arquillian%20Getting%20Started%20guide%20and%20got%20a%20%23greenbar!%20Get%20yours.%20http://arquillian.org/guides/getting_started_ja/"><img src="/images/post_to_twitter.png" alt="" /></a></p>
          <div class="g-plusone" data-size="tall"></div>
          <p>There&#8217;s a lot more about Arquillian to cover. If you&#8217;re ready to learn more, check out the <a href="/guides">other available guides</a>.</p>
          <h4>Feedback</h4>
          <p>Find a bug in the guide? Something missing? You can fix it by <a href="http://github.com/arquillian/arquillian.github.com">forking this website</a>, making the correction and <a href="http://help.github.com/send-pull-requests">sending a pull request</a>. If you&#8217;re just plain stuck, feel free to ask a question in the <a href="http://community.jboss.org/en/arquillian?view=discussions">user discussion forum</a>.</p>
          <h4>Recent Changelog</h4>
          <ul>
            <li>
              Mar 29, 2012:
              Updated the versions for weld and slf4j given in the pom files from 1.1.1.final and 1.5.10 to 1.1.5.final and 1.6.4 respectively
              <em>by paul-thomson</em>
            </li>
            <li>
              Mar 28, 2012:
              Use variable for arquillian core version
              <em>by Dan Allen</em>
            </li>
            <li>
              Mar 28, 2012:
              Fix bom version; add missing import for @inject
              <em>by Craig Schwarzwald</em>
            </li>
            <li>
              Mar 25, 2012:
              Escape stray inline xml tags
              <em>by Dan Allen</em>
            </li>
            <li>
              Mar 12, 2012:
              Update glassfish-embedded-all version and groupid
              <em>by Dan Allen</em>
            </li>
            <li>
              Feb 29, 2012:
              Remove extra whitespace
              <em>by Dan Allen</em>
            </li>
            <li>
              Feb 10, 2012:
              Identify authors &amp; translators by site identity
              <em>by Dan Allen</em>
            </li>
            <li>
              Feb 09, 2012:
              Translate getting started guide to japanese
              <em>by Takayuki Konishi</em>
            </li>
          </ul>
          <p>
            <a href="https://github.com/arquillian/arquillian.github.com/commits/develop/guides/getting_started_ja.textile">See full history &raquo;</a>
          </p>
        </div>
        <div id="sidebar">
          <div id="toc">
            <h3 class="chapter_header">Chapters</h3>
            <ol class="chapters">
              <li>
                <a href="#&#21069;&#25552;" id="前提_link">
                  前提
                </a>
              </li>
              <li>
                <a href="#&#26032;&#12375;&#12356;&#12503;&#12525;&#12472;&#12455;&#12463;&#12488;&#12434;&#20316;&#25104;&#12377;&#12427;" id="新しいプロジェクトを作成する_link">
                  新しいプロジェクトを作成する
                </a>
              </li>
              <li>
                <a href="#&#12503;&#12525;&#12472;&#12455;&#12463;&#12488;&#12434;eclipse&#12391;&#38283;&#12367;" id="プロジェクトをeclipseで開く_link">
                  プロジェクトをEclipseで開く
                </a>
              </li>
              <li>
                <a href="#&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12434;&#20316;&#12427;" id="コンポーネントを作る_link">
                  コンポーネントを作る
                </a>
              </li>
              <li>
                <a href="#arquillian_api&#12434;&#36861;&#21152;&#12377;&#12427;" id="arquillian_apiを追加する_link">
                  Arquillian APIを追加する
                </a>
              </li>
              <li>
                <a href="#arquillian&#12486;&#12473;&#12488;&#12434;&#26360;&#12367;" id="arquillianテストを書く_link">
                  Arquillianテストを書く
                </a>
              </li>
              <li>
                <a href="#&#12467;&#12531;&#12486;&#12490;&#12450;&#12480;&#12503;&#12479;&#12434;&#36861;&#21152;&#12377;&#12427;" id="コンテナアダプタを追加する_link">
                  コンテナアダプタを追加する
                </a>
              </li>
              <li>
                <a href="#arquillian&#12486;&#12473;&#12488;&#12398;&#23455;&#34892;" id="arquillianテストの実行_link">
                  Arquillianテストの実行
                </a>
              </li>
              <li>
                <a href="#&#35443;&#12375;&#12367;&#35211;&#12427;" id="詳しく見る_link">
                  詳しく見る
                </a>
              </li>
              <li>
                <a href="#&#12486;&#12473;&#12488;&#12434;&#12487;&#12496;&#12483;&#12464;&#12377;&#12427;" id="テストをデバッグする_link">
                  テストをデバッグする
                </a>
              </li>
              <li>
                <a href="#&#12373;&#12425;&#12395;&#12467;&#12531;&#12486;&#12490;&#12434;&#36861;&#21152;&#12377;&#12427;" id="さらにコンテナを追加する_link">
                  さらにコンテナを追加する
                </a>
              </li>
              <li>
                <a href="#&#12467;&#12531;&#12486;&#12490;&#12434;&#36234;&#12360;&#12390;&#12486;&#12473;&#12488;&#12377;&#12427;" id="コンテナを越えてテストする_link">
                  コンテナを越えてテストする
                </a>
              </li>
              <li>
                <a href="#share" id="share_link">
                  Share the Knowledge
                </a>
              </li>
            </ol>
          </div>
        </div>
        <script type="text/javascript">
          //<![CDATA[
            $(window).load(function() {
              var $toc = $('#toc');
              $toc.localScroll({hash: true});
              var sections = [ '前提','新しいプロジェクトを作成する','プロジェクトをeclipseで開く','コンポーネントを作る','arquillian_apiを追加する','arquillianテストを書く','コンテナアダプタを追加する','arquillianテストの実行','詳しく見る','テストをデバッグする','さらにコンテナを追加する','コンテナを越えてテストする','share' ];
              var currentSection = false;
              var sectionOffsets = {};
              $.each(sections, function(idx, section) {
                sectionOffsets[section] = $('#' + section).position().top;
              });
              
              var tocMetrics = {
                top: $toc.position().top,
                height: $toc.outerHeight()
              };
              var bottomBumper = $('#guide').outerHeight() + $('#guide').offset().top - 25;
              // for some reason, #toc a:first isn't working here
              var linkColor = $('#toc a').first().css('color');
            
              var updateToc = function() {
                var scrollY = $(window).scrollTop();
                positionToc(scrollY);
                highlightSectionInToc(scrollY);
              }
            
              var positionToc = function(scrollY) {
                // if scrolled past toc, move it down
                if (scrollY > tocMetrics.top) {
                  if ($toc.css('position') != 'fixed') {
                    $toc.css('position', 'fixed');
                  }
                  var remainingHeight = bottomBumper - scrollY;
                  // keep toc from overrunning bottom of content
                  if (remainingHeight < tocMetrics.height) {
                    $toc.css('top', 0 - (tocMetrics.height - remainingHeight));
                  }
                  else {
                    $toc.css('top', 5);
                  }
                }
                else {
                  if ($toc.css('position') != 'static') {
                    $toc.css({position: 'static', top: 0});
                  }
                }
              };
            
              var highlightSectionInToc = function(scrollY) {
                var numSections = sections.length;
                if (numSections == 0) {
                  return;
                }
            
                // if scrolled above first section, unhighlight any
                if (scrollY < sectionOffsets[sections[0]]) {
                  toggleSelection(false);
                }
                // if last section is in view, highlight it
                // tweak to get last section to be highlighted in toc when scrolled to bottom of page
                //else if (scrollY + $(window).height() > sectionOffsets[sections[numSections - 1]] &&
                //    scrollY - 100 > sectionOffsets[sections[numSections - 2]]) {
                //  toggleSelection(sections[numSections - 1]);
                //}
                else if (scrollY + $(window).height() == $(document).height()) {
                  toggleSelection(sections[numSections - 1]);
                }
                // highlight visible section
                else {
                  $.each(sections, function(idx, section) {
                    if (scrollY > sectionOffsets[section] && (idx == numSections - 1 || scrollY < sectionOffsets[sections[idx + 1]])) {
                      toggleSelection(section);
                    }
                  });
                }
              }
            
              var toggleSelection = function(section) {
                if (!section || section != currentSection) {
                  if (currentSection) {
                    $('#' + currentSection + '_link').css({fontWeight: 'normal', color: linkColor});
                  }
                  currentSection = section;
                  if (section) {
                    $('#' + section + '_link').css({fontWeight: 'bold', color: '#333333'});
                  }
                }
              }
            
              updateToc();
              $(window).scroll(updateToc);
            });
          //]]>
        </script>
      </div>
    </div>
    <footer>
      <div class="container">
        <div class="project">
          <img src="/images/arquillian_logo_200px.png" />
          <p class="bottom">
            &#169;
            Copyright 2009-2012 Red Hat, Inc.
            <br />
            <i class="icon icon-fire"></i>
            Baked by <a href="http://awestruct.org">Awestruct</a>
            <br />
            <i class="icon icon-share-alt"></i>
            Website and docs licensed as <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>
            <br />
            Code released under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>
          </p>
        </div>
        <div class="footer-nav">
          <h4>Learn</h4>
          <ul>
            <li>
              <a href="/invasion">Mission</a>
            </li>
            <li>
              <a href="/features">Features</a>
            </li>
            <li>
              <a href="/guides">Guides</a>
            </li>
            <li>
              <a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Manual</a>
            </li>
          </ul>
        </div>
        <div class="footer-nav">
          <h4>Get Involved</h4>
          <ul>
            <li>
              <a href="http://community.jboss.org/en/arquillian?view=discussions">Forums</a>
            </li>
            <li>
              <a href="https://issues.jboss.org/browse/ARQ">Issue Tracker</a>
            </li>
            <li>
              <a href="https://github.com/arquillian">Source Code</a>
            </li>
            <li>
              <a href="/community/contributors">Contributors</a>
            </li>
          </ul>
        </div>
        <div class="sponser">
          <div class="follow-us">
            <h4>Stay Informed</h4>
            <ul>
              <li>
                <a href="https://plus.google.com/100660127586085393031"><img alt="Google+" src="/images/gplus-icon.png" /></a>
              </li>
              <li>
                <a href="https://twitter.com/#!/search/%23arquillian"><img alt="Twitter" src="/images/tw-icon.png" /></a>
              </li>
              <li>
                <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/in-icon.png" /></a>
              </li>
              <li>
                <a href="http://vimeo.com/channels/arquillian"><img alt="Vimeo" src="/images/vimeo-icon.png" /></a>
              </li>
            </ul>
          </div>
          <p>This website is open source! You can also <a href="http://www.seethestats.com/site/arquillian.org">see the stats</a>. If you want to help, <a href="http://github.com/arquillian/arquillian.github.com">fork the project</a> and hack on it.</p>
          <p class="image"><a href="http://jboss.org"><img src="/images/jboss_redhat_branding.png" class="branding" title="Red Hat, Inc." alt="Red Hat, Inc." /></a></p>
          <p>Arquillian is a <a href="http://jboss.org">JBoss Community</a> project and development is sponsored by Red Hat, Inc.</p>
          <p class="bottom"><a href="http://www.redhat.com/legal/legal_statement.html">Terms of Use</a> | <a href="http://www.redhat.com/legal/privacy_statement.html">Privacy Policy</a></p>
        </div>
      </div>
    </footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.2/bootstrap.min.js"></script>
    <script src="/javascripts/prettify.js"></script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount','UA-18727998-3']);
    _gaq.push(['_trackPageview']);
    (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
  </body>
</html>
