h1. !{vertical-align:middle}https://github.com/arquillian/arquillian.github.com/raw/develop/images/arquillian_icon_64.png! Arquillian Website Source

This repository contains the source of the Arquillian website (hosted using "github pages":http://pages.github.com), to which the "arquillian.org":arquillian.org hostname resolves.

The website is built using "Awestruct":awestruct.org. The develop branch contains the unprocessed website source. From that content, Awestruct generates a static website under the @_site@ directory. The website is published to the public site by pushing the contents of the @_site@ directory to the gh-pages branch.

h2. Setting Up Awestruct

You need to have Awestruct installed on your machine to preview the website locally. Awestruct is a available as Ruby gem in the GemCutter repository. You can install it into either a native Ruby or a JRuby installation. The instructions here will cover setting up Awestruct in a native Ruby installation in Linux.

Begin by installing the package for Ruby and RubyGems.

h3. Installing Ruby and RubyGems on Ubuntu

If you have Ubuntu, use this command to install Ruby and RubyGems:

bc. $ sudo apt-get install rubygems

Ubuntu does not currently add the RubyGems bin directory to your path. Put the following files in your shell configuration file (.bashrc) and restart the shell.

bc. $ export GEM_HOME=/var/lib/gems/1.8 \ 
export PATH=$PATH:$GEM_HOME/bin

Now the executables for any gem you install will be available on your path.

h3. Installing Ruby and RubyGems on Fedora

If you have Fedora, use this command to install Ruby:

bc. $ sudo yum install ruby ruby-devel ruby-libs ruby-mode ruby-rdoc ruby-irb ruby-ri ruby-docs ruby-mysql ruby-sqlite3

You then need to install RubyGems manually:

bc.. $ wget -q http://rubyforge.org/frs/download.php/55066/rubygems-1.3.2.tgz \
tar xzf rubygems-1.3.2.tgz \
cd rubygems-1.3.2 \
sudo ruby setup.rb

p. If you get stuck, refer to "this guide":http://www.technetra.com/2009/04/22/howto-setting-up-ruby-on-rails-for-fedora-10-and-11 for more details.

h3. Installing Awestruct Gem

Now you are ready to install the awestruct gem and it's dependencies. The remainder of the commands work on any Ruby installation:

bc. $ sudo gem install awestruct

You're all set!

h2. Previewing the Site Locally

Now that you have awestruct installed, you can preview the website locally by running it in development mode. Development mode using a file monitor to automatically update the site when you make a change to the source files.

Run the following command to launch the preview server:

bc. awestruct -d

Visit the following page in your browser:

"http://localhost:4242":http://localhost:4242

You're now awestruct!

h2. Conventions

"Haml":http://haml-lang.com is the preferred abstract HTML markup language.

* "Haml Reference":http://haml-lang.com/docs/yardoc/file.HAML_REFERENCE.html

 "Textile":http://redcloth.org/textile is the preferred text markup language.

* "Textile Reference":http://redcloth.org/textile

"Sass":http://sass-lang.com and "Compass":http://compass-style.org are the preferred CSS frameworks.

* "Sass Reference":http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html
* "Compass Reference":http://compass-style.org/reference/compass

Source files are indented using 2 spaces. Haml files require the same indentation size throughout.

h2. TODO

* write getting started guide content
* finish porting nobles
* finish porting blogs
* auto-generate sidebar navigation for guide (via jQuery or generator?)
* implement guides index popup
* color scheme (backgrounds, links)
* table style for nobles page
* footer
* background-color on the directory listing in guides
* add "Release Date" as part of "Latest Release"

h2. To fix

* remove inline CSS hacks
* JBoss Community button needs to be better integrated...consider using full header
* reenable sassy-buttons when awestruct can use compass 0.11
* could do div(filename). %src/test/java/MyTest.java%
* can't get filename block to overlap code block
* image-url is not resolving properly
* make interwiki syntax more concise, if possible

h2. Extension Ideas

* Events from lanyrd (need to pull ical, then process)
* Nobles extension from config
* interwiki links (like JIRA, Github resource, etc)
* Fork me on github ribbon
* Guides similar to the Posts extension

h2. Resources

* Currently using Google Prettify, could use "jQuery wrapper":http://balupton.github.com/jquery-syntaxhighlighter
* Icons from Faenza Gnome icon theme
