// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
/**
 * @fileoverview
 * some functions for browser-side pretty printing of code contained in html.
 *
 * <p>
 * For a fairly comprehensive set of languages see the
 * <a href="http://google-code-prettify.googlecode.com/svn/trunk/README.html#langs">README</a>
 * file that came with this source.  At a minimum, the lexer should work on a
 * number of languages including C and friends, Java, Python, Bash, SQL, HTML,
 * XML, CSS, Javascript, and Makefiles.  It works passably on Ruby, PHP and Awk
 * and a subset of Perl, but, because of commenting conventions, doesn't work on
 * Smalltalk, Lisp-like, or CAML-like languages without an explicit lang class.
 * <p>
 * Usage: <ol>
 * <li> include this source file in an html page via
 *   {@code <script type="text/javascript" src="/path/to/prettify.js"></script>}
 * <li> define style rules.  See the example page for examples.
 * <li> mark the {@code <pre>} and {@code <code>} tags in your source with
 *    {@code class=prettify.}
 *    You can also use the (html deprecated) {@code <xmp>} tag, but the pretty
 *    printer needs to do more substantial DOM manipulations to support that, so
 *    some css styles may not be preserved.
 * </ol>
 * That's it.  I wanted to keep the API as simple as possible, so there's no
 * need to specify which language the code is in, but if you wish, you can add
 * another class to the {@code <pre>} or {@code <code>} element to specify the
 * language, as in {@code <pre class="prettify lang-java">}.  Any class that
 * starts with "lang-" followed by a file extension, specifies the file type.
 * See the "lang-*.js" files in this directory for code that implements
 * per-language file handlers.
 * <p>
 * Change log:<br>
 * cbeust, 2006/08/22
 * <blockquote>
 *   Java annotations (start with "@") are now captured as literals ("lit")
 * </blockquote>
 * @requires console
 */
// JSLint declarations
/*global console, document, navigator, setTimeout, window */
/**
 * Split {@code prettify} into multiple timeouts so as not to interfere with
 * UI events.
 * If set to {@code false}, {@code prettify()} is synchronous.
 */
window.PR_SHOULD_USE_CONTINUATION=!0,function(){function combinePrefixPatterns(regexs){function decodeEscape(charsetPart){var cc0=charsetPart.charCodeAt(0);if(cc0!==92)return cc0;var c1=charsetPart.charAt(1);return cc0=escapeCharToCodeUnit[c1],cc0?cc0:"0"<=c1&&c1<="7"?parseInt(charsetPart.substring(1),8):c1==="u"||c1==="x"?parseInt(charsetPart.substring(2),16):charsetPart.charCodeAt(1)}function encodeEscape(charCode){if(charCode<32)return(charCode<16?"\\x0":"\\x")+charCode.toString(16);var ch=String.fromCharCode(charCode);return ch==="\\"||ch==="-"||ch==="]"||ch==="^"?"\\"+ch:ch}function caseFoldCharset(charSet){var charsetParts=charSet.substring(1,charSet.length-1).match(new RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]","g")),ranges=[],inverse=charsetParts[0]==="^",out=["["];inverse&&out.push("^");for(var i=inverse?1:0,n=charsetParts.length;i<n;++i){var p=charsetParts[i];if(/\\[bdsw]/i.test(p))out.push(p);else{var start=decodeEscape(p),end;i+2<n&&"-"===charsetParts[i+1]?(end=decodeEscape(charsetParts[i+2]),i+=2):end=start,ranges.push([start,end]),end<65||start>122||(end<65||start>90||ranges.push([Math.max(65,start)|32,Math.min(end,90)|32]),end<97||start>122||ranges.push([Math.max(97,start)&-33,Math.min(end,122)&-33]))}}ranges.sort(function(a,b){return a[0]-b[0]||b[1]-a[1]});var consolidatedRanges=[],lastRange=[];for(var i=0;i<ranges.length;++i){var range=ranges[i];range[0]<=lastRange[1]+1?lastRange[1]=Math.max(lastRange[1],range[1]):consolidatedRanges.push(lastRange=range)}for(var i=0;i<consolidatedRanges.length;++i){var range=consolidatedRanges[i];out.push(encodeEscape(range[0])),range[1]>range[0]&&(range[1]+1>range[0]&&out.push("-"),out.push(encodeEscape(range[1])))}return out.push("]"),out.join("")}function allowAnywhereFoldCaseAndRenumberGroups(regex){var parts=regex.source.match(new RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)","g")),n=parts.length,capturedGroups=[];for(var i=0,groupIndex=0;i<n;++i){var p=parts[i];if(p==="(")++groupIndex;else if("\\"===p.charAt(0)){var decimalValue=+p.substring(1);decimalValue&&(decimalValue<=groupIndex?capturedGroups[decimalValue]=-1:parts[i]=encodeEscape(decimalValue))}}for(var i=1;i<capturedGroups.length;++i)-1===capturedGroups[i]&&(capturedGroups[i]=++capturedGroupIndex);for(var i=0,groupIndex=0;i<n;++i){var p=parts[i];if(p==="(")++groupIndex,capturedGroups[groupIndex]||(parts[i]="(?:");else if("\\"===p.charAt(0)){var decimalValue=+p.substring(1);decimalValue&&decimalValue<=groupIndex&&(parts[i]="\\"+capturedGroups[groupIndex])}}for(var i=0,groupIndex=0;i<n;++i)"^"===parts[i]&&"^"!==parts[i+1]&&(parts[i]="");if(regex.ignoreCase&&needToFoldCase)for(var i=0;i<n;++i){var p=parts[i],ch0=p.charAt(0);p.length>=2&&ch0==="["?parts[i]=caseFoldCharset(p):ch0!=="\\"&&(parts[i]=p.replace(/[a-zA-Z]/g,function(ch){var cc=ch.charCodeAt(0);return"["+String.fromCharCode(cc&-33,cc|32)+"]"}))}return parts.join("")}var capturedGroupIndex=0,needToFoldCase=!1,ignoreCase=!1;for(var i=0,n=regexs.length;i<n;++i){var regex=regexs[i];if(regex.ignoreCase)ignoreCase=!0;else if(/[a-z]/i.test(regex.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){needToFoldCase=!0,ignoreCase=!1;break}}var escapeCharToCodeUnit={b:8,t:9,n:10,v:11,f:12,r:13},rewritten=[];for(var i=0,n=regexs.length;i<n;++i){var regex=regexs[i];if(regex.global||regex.multiline)throw new Error(""+regex);rewritten.push("(?:"+allowAnywhereFoldCaseAndRenumberGroups(regex)+")")}return new RegExp(rewritten.join("|"),ignoreCase?"gi":"g")}function extractSourceSpans(node){function walk(node){switch(node.nodeType){case 1:if(nocode.test(node.className))return;for(var child=node.firstChild;child;child=child.nextSibling)walk(child);var nodeName=node.nodeName;if("BR"===nodeName||"LI"===nodeName)chunks[k]="\n",spans[k<<1]=length++,spans[k++<<1|1]=node;break;case 3:case 4:var text=node.nodeValue;text.length&&(isPreformatted?text=text.replace(/\r\n?/g,"\n"):text=text.replace(/[ \t\r\n]+/g," "),chunks[k]=text,spans[k<<1]=length,length+=text.length,spans[k++<<1|1]=node)}}var nocode=/(?:^|\s)nocode(?:\s|$)/,chunks=[],length=0,spans=[],k=0,whitespace;node.currentStyle?whitespace=node.currentStyle.whiteSpace:window.getComputedStyle&&(whitespace=document.defaultView.getComputedStyle(node,null).getPropertyValue("white-space"));var isPreformatted=whitespace&&"pre"===whitespace.substring(0,3);return walk(node),{sourceCode:chunks.join("").replace(/\n$/,""),spans:spans}}function appendDecorations(basePos,sourceCode,langHandler,out){if(!sourceCode)return;var job={sourceCode:sourceCode,basePos:basePos};langHandler(job),out.push.apply(out,job.decorations)}function childContentWrapper(element){var wrapper=undefined;for(var c=element.firstChild;c;c=c.nextSibling){var type=c.nodeType;wrapper=type===1?wrapper?element:c:type===3?notWs.test(c.nodeValue)?element:wrapper:wrapper}return wrapper===element?undefined:wrapper}function createSimpleLexer(shortcutStylePatterns,fallthroughStylePatterns){var shortcuts={},tokenizer;(function(){var allPatterns=shortcutStylePatterns.concat(fallthroughStylePatterns),allRegexs=[],regexKeys={};for(var i=0,n=allPatterns.length;i<n;++i){var patternParts=allPatterns[i],shortcutChars=patternParts[3];if(shortcutChars)for(var c=shortcutChars.length;--c>=0;)shortcuts[shortcutChars.charAt(c)]=patternParts;var regex=patternParts[1],k=""+regex;regexKeys.hasOwnProperty(k)||(allRegexs.push(regex),regexKeys[k]=null)}allRegexs.push(/[\0-\uffff]/),tokenizer=combinePrefixPatterns(allRegexs)})();var nPatterns=fallthroughStylePatterns.length,decorate=function(job){var sourceCode=job.sourceCode,basePos=job.basePos,decorations=[basePos,PR_PLAIN],pos=0,tokens=sourceCode.match(tokenizer)||[],styleCache={};for(var ti=0,nTokens=tokens.length;ti<nTokens;++ti){var token=tokens[ti],style=styleCache[token],match=void 0,isEmbedded;if(typeof style=="string")isEmbedded=!1;else{var patternParts=shortcuts[token.charAt(0)];if(patternParts)match=token.match(patternParts[1]),style=patternParts[0];else{for(var i=0;i<nPatterns;++i){patternParts=fallthroughStylePatterns[i],match=token.match(patternParts[1]);if(match){style=patternParts[0];break}}match||(style=PR_PLAIN)}isEmbedded=style.length>=5&&"lang-"===style.substring(0,5),isEmbedded&&(!match||typeof match[1]!="string")&&(isEmbedded=!1,style=PR_SOURCE),isEmbedded||(styleCache[token]=style)}var tokenStart=pos;pos+=token.length;if(!isEmbedded)decorations.push(basePos+tokenStart,style);else{var embeddedSource=match[1],embeddedSourceStart=token.indexOf(embeddedSource),embeddedSourceEnd=embeddedSourceStart+embeddedSource.length;match[2]&&(embeddedSourceEnd=token.length-match[2].length,embeddedSourceStart=embeddedSourceEnd-embeddedSource.length);var lang=style.substring(5);appendDecorations(basePos+tokenStart,token.substring(0,embeddedSourceStart),decorate,decorations),appendDecorations(basePos+tokenStart+embeddedSourceStart,embeddedSource,langHandlerForExtension(lang,embeddedSource),decorations),appendDecorations(basePos+tokenStart+embeddedSourceEnd,token.substring(embeddedSourceEnd),decorate,decorations)}}job.decorations=decorations};return decorate}function sourceDecorator(options){var shortcutStylePatterns=[],fallthroughStylePatterns=[];options.tripleQuotedStrings?shortcutStylePatterns.push([PR_STRING,/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,null,"'\""]):options.multiLineStrings?shortcutStylePatterns.push([PR_STRING,/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"]):shortcutStylePatterns.push([PR_STRING,/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"]),options.verbatimStrings&&fallthroughStylePatterns.push([PR_STRING,/^@\"(?:[^\"]|\"\")*(?:\"|$)/,null]);var hc=options.hashComments;hc&&(options.cStyleComments?(hc>1?shortcutStylePatterns.push([PR_COMMENT,/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"]):shortcutStylePatterns.push([PR_COMMENT,/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\r\n]*)/,null,"#"]),fallthroughStylePatterns.push([PR_STRING,/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,null])):shortcutStylePatterns.push([PR_COMMENT,/^#[^\r\n]*/,null,"#"])),options.cStyleComments&&(fallthroughStylePatterns.push([PR_COMMENT,/^\/\/[^\r\n]*/,null]),fallthroughStylePatterns.push([PR_COMMENT,/^\/\*[\s\S]*?(?:\*\/|$)/,null]));if(options.regexLiterals){var REGEX_LITERAL="/(?=[^/*])(?:[^/\\x5B\\x5C]|\\x5C[\\s\\S]|\\x5B(?:[^\\x5C\\x5D]|\\x5C[\\s\\S])*(?:\\x5D|$))+/";fallthroughStylePatterns.push(["lang-regex",new RegExp("^"+REGEXP_PRECEDER_PATTERN+"("+REGEX_LITERAL+")")])}var types=options.types;types&&fallthroughStylePatterns.push([PR_TYPE,types]);var keywords=(""+options.keywords).replace(/^ | $/g,"");return keywords.length&&fallthroughStylePatterns.push([PR_KEYWORD,new RegExp("^(?:"+keywords.replace(/[\s,]+/g,"|")+")\\b"),null]),shortcutStylePatterns.push([PR_PLAIN,/^\s+/,null," \r\n	 "]),fallthroughStylePatterns.push([PR_ANNOTATION,/^@[a-z_$][a-z_$@0-9]*/i,null],[PR_TYPE,/^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null],[PR_PLAIN,/^[a-z_$][a-z_$@0-9]*/i,null],[PR_LITERAL,new RegExp("^(?:0x[a-f0-9]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+\\-]?\\d+)?)[a-z]*","i"),null,"0123456789"],[PR_PLAIN,/^\\[\s\S]?/,null],[PR_PUNCTUATION,/^.[^\s\w\.$@\'\"\`\/\#\\]*/,null]),createSimpleLexer(shortcutStylePatterns,fallthroughStylePatterns)}function numberLines(node,opt_startLineNum){function walk(node){switch(node.nodeType){case 1:if(nocode.test(node.className))break;if("BR"===node.nodeName)breakAfter(node),node.parentNode&&node.parentNode.removeChild(node);else for(var child=node.firstChild;child;child=child.nextSibling)walk(child);break;case 3:case 4:if(isPreformatted){var text=node.nodeValue,match=text.match(lineBreak);if(match){var firstLine=text.substring(0,match.index);node.nodeValue=firstLine;var tail=text.substring(match.index+match[0].length);if(tail){var parent=node.parentNode;parent.insertBefore(document.createTextNode(tail),node.nextSibling)}breakAfter(node),firstLine||node.parentNode.removeChild(node)}}}}function breakAfter(lineEndNode){function breakLeftOf(limit,copy){var rightSide=copy?limit.cloneNode(!1):limit,parent=limit.parentNode;if(parent){var parentClone=breakLeftOf(parent,1),next=limit.nextSibling;parentClone.appendChild(rightSide);for(var sibling=next;sibling;sibling=next)next=sibling.nextSibling,parentClone.appendChild(sibling)}return rightSide}while(!lineEndNode.nextSibling){lineEndNode=lineEndNode.parentNode;if(!lineEndNode)return}var copiedListItem=breakLeftOf(lineEndNode.nextSibling,0);for(var parent;(parent=copiedListItem.parentNode)&&parent.nodeType===1;)copiedListItem=parent;listItems.push(copiedListItem)}var nocode=/(?:^|\s)nocode(?:\s|$)/,lineBreak=/\r\n?|\n/,document=node.ownerDocument,whitespace;node.currentStyle?whitespace=node.currentStyle.whiteSpace:window.getComputedStyle&&(whitespace=document.defaultView.getComputedStyle(node,null).getPropertyValue("white-space"));var isPreformatted=whitespace&&"pre"===whitespace.substring(0,3),li=document.createElement("LI");while(node.firstChild)li.appendChild(node.firstChild);var listItems=[li];for(var i=0;i<listItems.length;++i)walk(listItems[i]);opt_startLineNum===(opt_startLineNum|0)&&listItems[0].setAttribute("value",opt_startLineNum);var ol=document.createElement("OL");ol.className="linenums";var offset=Math.max(0,opt_startLineNum-1|0)||0;for(var i=0,n=listItems.length;i<n;++i)li=listItems[i],li.className="L"+(i+offset)%10,li.firstChild||li.appendChild(document.createTextNode(" ")),ol.appendChild(li);node.appendChild(ol)}function recombineTagsAndDecorations(job){var isIE=/\bMSIE\b/.test(navigator.userAgent),newlineRe=/\n/g,source=job.sourceCode,sourceLength=source.length,sourceIndex=0,spans=job.spans,nSpans=spans.length,spanIndex=0,decorations=job.decorations,nDecorations=decorations.length,decorationIndex=0;decorations[nDecorations]=sourceLength;var decPos,i;for(i=decPos=0;i<nDecorations;)decorations[i]!==decorations[i+2]?(decorations[decPos++]=decorations[i++],decorations[decPos++]=decorations[i++]):i+=2;nDecorations=decPos;for(i=decPos=0;i<nDecorations;){var startPos=decorations[i],startDec=decorations[i+1],end=i+2;while(end+2<=nDecorations&&decorations[end+1]===startDec)end+=2;decorations[decPos++]=startPos,decorations[decPos++]=startDec,i=end}nDecorations=decorations.length=decPos;var decoration=null;while(spanIndex<nSpans){var spanStart=spans[spanIndex],spanEnd=spans[spanIndex+2]||sourceLength,decEnd=decorations[decorationIndex+2]||sourceLength,end=Math.min(spanEnd,decEnd),textNode=spans[spanIndex+1],styledText;if(textNode.nodeType!==1&&(styledText=source.substring(sourceIndex,end))){isIE&&(styledText=styledText.replace(newlineRe,"\r")),textNode.nodeValue=styledText;var document=textNode.ownerDocument,span=document.createElement("SPAN");span.className=decorations[decorationIndex+1];var parentNode=textNode.parentNode;parentNode.replaceChild(span,textNode),span.appendChild(textNode),sourceIndex<spanEnd&&(spans[spanIndex+1]=textNode=document.createTextNode(source.substring(end,spanEnd)),parentNode.insertBefore(textNode,span.nextSibling))}sourceIndex=end,sourceIndex>=spanEnd&&(spanIndex+=2),sourceIndex>=decEnd&&(decorationIndex+=2)}}function registerLangHandler(handler,fileExtensions){for(var i=fileExtensions.length;--i>=0;){var ext=fileExtensions[i];langHandlerRegistry.hasOwnProperty(ext)?window.console&&console.warn("cannot override language handler %s",ext):langHandlerRegistry[ext]=handler}}function langHandlerForExtension(extension,source){if(!extension||!langHandlerRegistry.hasOwnProperty(extension))extension=/^\s*</.test(source)?"default-markup":"default-code";return langHandlerRegistry[extension]}function applyDecorator(job){var opt_langExtension=job.langExtension;try{var sourceAndSpans=extractSourceSpans(job.sourceNode),source=sourceAndSpans.sourceCode;job.sourceCode=source,job.spans=sourceAndSpans.spans,job.basePos=0,langHandlerForExtension(opt_langExtension,source)(job),recombineTagsAndDecorations(job)}catch(e){"console"in window&&console.log(e&&e.stack?e.stack:e)}}function prettifyOne(sourceCodeHtml,opt_langExtension,opt_numberLines){var container=document.createElement("PRE");container.innerHTML=sourceCodeHtml,opt_numberLines&&numberLines(container,opt_numberLines);var job={langExtension:opt_langExtension,numberLines:opt_numberLines,sourceNode:container};return applyDecorator(job),container.innerHTML}function prettify(opt_whenDone){function byTagName(tn){return document.getElementsByTagName(tn)}function doWork(){var endTime=window.PR_SHOULD_USE_CONTINUATION?clock.now()+250:Infinity;for(;k<elements.length&&clock.now()<endTime;k++){var cs=elements[k],className=cs.className;if(className.indexOf("prettify")>=0){var langExtension=className.match(langExtensionRe),wrapper;!langExtension&&(wrapper=childContentWrapper(cs))&&"CODE"===wrapper.tagName&&(langExtension=wrapper.className.match(langExtensionRe)),langExtension&&(langExtension=langExtension[1]);var nested=!1;for(var p=cs.parentNode;p;p=p.parentNode)if((p.tagName==="pre"||p.tagName==="code"||p.tagName==="xmp")&&p.className&&p.className.indexOf("prettify")>=0){nested=!0;break}if(!nested){var lineNums=cs.className.match(/\blinenums\b(?::(\d+))?/);lineNums=lineNums?lineNums[1]&&lineNums[1].length?+lineNums[1]:!0:!1,lineNums&&numberLines(cs,lineNums),prettifyingJob={langExtension:langExtension,sourceNode:cs,numberLines:lineNums},applyDecorator(prettifyingJob)}}}k<elements.length?setTimeout(doWork,250):opt_whenDone&&opt_whenDone()}var codeSegments=[byTagName("pre"),byTagName("code"),byTagName("xmp")],elements=[];for(var i=0;i<codeSegments.length;++i)for(var j=0,n=codeSegments[i].length;j<n;++j)elements.push(codeSegments[i][j]);codeSegments=null;var clock=Date;clock.now||(clock={now:function(){return+(new Date)}});var k=0,prettifyingJob,langExtensionRe=/\blang(?:uage)?-([\w.]+)(?!\S)/,prettifyRe=/\bprettify\b/;doWork()}var FLOW_CONTROL_KEYWORDS=["break,continue,do,else,for,if,return,while"],C_KEYWORDS=[FLOW_CONTROL_KEYWORDS,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],COMMON_KEYWORDS=[C_KEYWORDS,"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],CPP_KEYWORDS=[COMMON_KEYWORDS,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],JAVA_KEYWORDS=[COMMON_KEYWORDS,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],CSHARP_KEYWORDS=[JAVA_KEYWORDS,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],COFFEE_KEYWORDS="all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",JSCRIPT_KEYWORDS=[COMMON_KEYWORDS,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],PERL_KEYWORDS="caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",PYTHON_KEYWORDS=[FLOW_CONTROL_KEYWORDS,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],RUBY_KEYWORDS=[FLOW_CONTROL_KEYWORDS,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],SH_KEYWORDS=[FLOW_CONTROL_KEYWORDS,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],ALL_KEYWORDS=[CPP_KEYWORDS,CSHARP_KEYWORDS,JSCRIPT_KEYWORDS,PERL_KEYWORDS+PYTHON_KEYWORDS,RUBY_KEYWORDS,SH_KEYWORDS],C_TYPES=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,PR_STRING="str",PR_KEYWORD="kwd",PR_COMMENT="com",PR_TYPE="typ",PR_LITERAL="lit",PR_ANNOTATION="ann",PR_PUNCTUATION="pun",PR_PLAIN="pln",PR_TAG="tag",PR_DECLARATION="dec",PR_SOURCE="src",PR_ATTRIB_NAME="atn",PR_ATTRIB_VALUE="atv",PR_NOCODE="nocode",REGEXP_PRECEDER_PATTERN="(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*",notWs=/\S/,decorateSource=sourceDecorator({keywords:ALL_KEYWORDS,hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),langHandlerRegistry={};registerLangHandler(decorateSource,["default-code"]),registerLangHandler(createSimpleLexer([],[[PR_PLAIN,/^[^<?]+/],[PR_DECLARATION,/^<!\w[^>]*(?:>|$)/],[PR_COMMENT,/^<\!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],[PR_PUNCTUATION,/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),registerLangHandler(createSimpleLexer([[PR_PLAIN,/^[\s]+/,null," 	\r\n"],[PR_ATTRIB_VALUE,/^(?:\"[^\"]*\"?|\'[^\']*\'?)/,null,"\"'"]],[[PR_TAG,/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],[PR_ATTRIB_NAME,/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/],[PR_PUNCTUATION,/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*\"([^\"]+)\"/i],["lang-js",/^on\w+\s*=\s*\'([^\']+)\'/i],["lang-js",/^on\w+\s*=\s*([^\"\'>\s]+)/i],["lang-css",/^style\s*=\s*\"([^\"]+)\"/i],["lang-css",/^style\s*=\s*\'([^\']+)\'/i],["lang-css",/^style\s*=\s*([^\"\'>\s]+)/i]]),["in.tag"]),registerLangHandler(createSimpleLexer([],[[PR_ATTRIB_VALUE,/^[\s\S]+/]]),["uq.val"]),registerLangHandler(sourceDecorator({keywords:CPP_KEYWORDS,hashComments:!0,cStyleComments:!0,types:C_TYPES}),["c","cc","cpp","cxx","cyc","m"]),registerLangHandler(sourceDecorator({keywords:"null,true,false"}),["json"]),registerLangHandler(sourceDecorator({keywords:CSHARP_KEYWORDS,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:C_TYPES}),["cs"]),registerLangHandler(sourceDecorator({keywords:JAVA_KEYWORDS,cStyleComments:!0}),["java"]),registerLangHandler(sourceDecorator({keywords:SH_KEYWORDS,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]),registerLangHandler(sourceDecorator({keywords:PYTHON_KEYWORDS,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]),registerLangHandler(sourceDecorator({keywords:PERL_KEYWORDS,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]),registerLangHandler(sourceDecorator({keywords:RUBY_KEYWORDS,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]),registerLangHandler(sourceDecorator({keywords:JSCRIPT_KEYWORDS,cStyleComments:!0,regexLiterals:!0}),["js"]),registerLangHandler(sourceDecorator({keywords:COFFEE_KEYWORDS,hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),registerLangHandler(createSimpleLexer([],[[PR_STRING,/^[\s\S]+/]]),["regex"]),window.prettifyOne=prettifyOne,window.prettify=prettify,window.PR={createSimpleLexer:createSimpleLexer,registerLangHandler:registerLangHandler,sourceDecorator:sourceDecorator,PR_ATTRIB_NAME:PR_ATTRIB_NAME,PR_ATTRIB_VALUE:PR_ATTRIB_VALUE,PR_COMMENT:PR_COMMENT,PR_DECLARATION:PR_DECLARATION,PR_KEYWORD:PR_KEYWORD,PR_LITERAL:PR_LITERAL,PR_NOCODE:PR_NOCODE,PR_PLAIN:PR_PLAIN,PR_PUNCTUATION:PR_PUNCTUATION,PR_SOURCE:PR_SOURCE,PR_STRING:PR_STRING,PR_TAG:PR_TAG,PR_TYPE:PR_TYPE}}();